(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{AtJZ:function(t,n,u){"use strict";u.r(n);var l,e=u("LoAr"),a=function(){return function(){}}(),r=u("uUHb"),i=u("g0Sf"),o=u("C9Ky"),s=u("iG2+"),c=u("jtoi"),p=u("WbFY"),b=u("P8G5"),d=u("PQOh"),f=u("IfiR"),h=u("wxdu"),m=u("eJKe");!function(t){t.EDIT_SETTINGS="[settings] EDIT_SETTINGS"}(l||(l={}));var w=function(){return function(){this.type=l.EDIT_SETTINGS}}(),g=[{type:"INPUT",name:"image",placeholder:"URL of profile picture",validator:[]},{type:"INPUT",name:"username",placeholder:"Your Name",validator:[f.l.required]},{type:"TEXTAREA",name:"bio",placeholder:"Short bio about you",validator:[]},{type:"INPUT",name:"email",placeholder:"Email",validator:[f.l.required]},{type:"INPUT",name:"password",placeholder:"New Password",validator:[f.l.required],attrs:{type:"password"}}],F=function(){function t(t,n,u,l){this.store=t,this.router=n,this.authFacade=u,this.ngrxFormsFacade=l}return t.prototype.ngOnInit=function(){var t=this;this.ngrxFormsFacade.setStructure(g),this.authFacade.user$.subscribe(function(n){return t.ngrxFormsFacade.setData(n)}),this.data$=this.ngrxFormsFacade.data$,this.structure$=this.ngrxFormsFacade.structure$},t.prototype.updateForm=function(t){this.ngrxFormsFacade.updateData(t)},t.prototype.submit=function(){this.store.dispatch(new w)},t.prototype.logout=function(){this.authFacade.logout()},t}(),v=u("GovN"),y=u("981U"),S=u("pOUy"),T=e.nb({encapsulation:0,styles:[[".edit-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]],data:{}});function x(t){return e.Hb(2,[(t()(),e.pb(0,0,null,null,13,"div",[["class","settings-page"]],null,null,null,null,null)),(t()(),e.pb(1,0,null,null,12,"div",[["class","container page"]],null,null,null,null,null)),(t()(),e.pb(2,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(t()(),e.pb(3,0,null,null,10,"div",[["class","col-md-6 offset-md-3 col-xs-12"]],null,null,null,null,null)),(t()(),e.pb(4,0,null,null,1,"h1",[["class","text-xs-center"]],null,null,null,null,null)),(t()(),e.Fb(-1,null,["Your Settings"])),(t()(),e.pb(6,0,null,null,1,"app-list-errors",[],null,null,null,s.b,s.a)),e.ob(7,245760,null,0,c.a,[p.a,e.h],null,null),(t()(),e.pb(8,0,null,null,1,"app-dynamic-form",[],null,[[null,"updateForm"]],function(t,n,u){var l=!0;return"updateForm"===n&&(l=!1!==t.component.updateForm(u)&&l),l},b.b,b.a)),e.ob(9,245760,null,0,d.a,[f.d],{structure$:[0,"structure$"],data$:[1,"data$"]},{updateForm:"updateForm"}),(t()(),e.pb(10,0,null,null,2,"div",[["class","edit-button-container"]],null,null,null,null,null)),(t()(),e.pb(11,0,null,null,1,"button",[["class","btn btn-lg btn-primary pull-xs-right"],["type","submit"]],null,[[null,"click"]],function(t,n,u){var l=!0;return"click"===n&&(l=!1!==t.component.submit()&&l),l},null,null)),(t()(),e.Fb(-1,null,[" Update Settings "])),(t()(),e.pb(13,0,null,null,0,"hr",[],null,null,null,null,null))],function(t,n){var u=n.component;t(n,7,0),t(n,9,0,u.structure$,u.data$)},null)}function j(t){return e.Hb(0,[(t()(),e.pb(0,0,null,null,1,"app-settings",[],null,null,null,x,T)),e.ob(1,114688,null,0,F,[v.n,y.n,S.a,p.a],null,null)],function(t,n){t(n,1,0)},null)}var I=e.lb("app-settings",F,j,{},{},[]),O=u("WT9V"),E=u("tM4j");function N(t,n){return t}var $=u("sFCE"),q=u("D3xR"),P=(u("Ecwh"),u("Jg5f")),U=function(){function t(t){this.apiService=t}return t.prototype.update=function(t){return this.apiService.put("/user",{user:t}).pipe(Object(P.a)(function(t){return t.user}))},t}(),k=u("T+Ru"),D=u("D57K"),G=u("pN2L"),R=u("eb+u"),J=u("HswR"),A=u("4HYP"),H=u("IMYO"),M=function(){function t(t,n,u,e){var a=this;this.actions=t,this.settingsService=n,this.authFacade=u,this.ngrxFormsFacade=e,this.editSettings=this.actions.ofType(l.EDIT_SETTINGS).pipe(Object(R.a)(this.ngrxFormsFacade.data$,this.authFacade.user$),Object(P.a)(function(t){var n=t[1];return D.a({},t[2],{image:n.image,username:n.username,bio:n.bio,pass:n.pass,email:n.email})}),Object(J.a)(function(t){return a.settingsService.update(t).pipe(Object(A.a)(function(t){return[new h.a,{type:"[router] Go",payload:{path:["profile",t.username]}}]}),Object(H.a)(function(t){return Object(G.a)(new m.b(t.error.errors))}))}))}return D.b([Object(q.b)(),D.d("design:type",Object)],t.prototype,"editSettings",void 0),t}(),Y=u("QxJv"),_=u("nu5s");u.d(n,"SettingsModuleNgFactory",function(){return C});var C=e.mb(a,[],function(t){return e.vb([e.wb(512,e.j,e.bb,[[8,[r.a,i.a,o.a,I]],[3,e.j],e.x]),e.wb(4608,O.n,O.m,[e.u,[2,O.t]]),e.wb(4608,f.d,f.d,[]),e.wb(4608,f.o,f.o,[]),e.wb(1073742336,O.c,O.c,[]),e.wb(1073742336,f.m,f.m,[]),e.wb(1073742336,f.k,f.k,[]),e.wb(1024,v.j,function(){return[{key:"ngrxForms",reducerFactory:v.z,metaReducers:[],initialState:{data:{},structure:[],valid:!0,errors:{},touched:!1}},{key:"settings",reducerFactory:v.z,metaReducers:[],initialState:{}}]},[]),e.wb(1024,v.q,function(){return[E.a,N]},[]),e.wb(1024,v.r,function(t,n){return[t,n]},[v.q,v.q]),e.wb(1024,v.b,function(t,n,u,l,e,a){return[v.w(t,n,u),v.w(l,e,a)]},[e.q,v.q,v.r,e.q,v.q,v.r]),e.wb(1073873408,v.o,v.o,[v.j,v.b,v.g,v.p]),e.wb(512,$.a,$.a,[q.a]),e.wb(512,U,U,[k.a]),e.wb(512,p.a,p.a,[v.n]),e.wb(512,M,M,[q.a,U,S.a,p.a]),e.wb(1024,q.i,function(t,n){return[q.e(t),q.e(n)]},[$.a,M]),e.wb(1073742336,q.g,q.g,[q.f,q.i,[2,v.p],[2,v.o]]),e.wb(1073742336,Y.a,Y.a,[]),e.wb(1073742336,y.q,y.q,[[2,y.x],[2,y.n]]),e.wb(1073742336,a,a,[]),e.wb(1024,y.l,function(){return[[{path:"",pathMatch:"full",component:F,canActivate:[_.a]}]]},[])])})}}]);